(self["webpackChunktravello"]=self["webpackChunktravello"]||[]).push([[423],{4763:function(t,e,a){"use strict";a.d(e,{Z:function(){return p}});var i=a(3396),s=a(7139);const r={class:"container"},n={class:"intro_wrap"},o={class:"intro_title"};function l(t,e,l,c,u,g){return(0,i.wg)(),(0,i.iD)("section",{class:"intro",style:(0,s.j5)(`background-image: url(${a(4699)("./"+l.bg)})`)},[(0,i._)("div",r,[(0,i._)("div",n,[(0,i._)("h2",o,(0,s.zw)(l.title),1)])])],4)}var c={name:"intro",props:{title:{type:String,default:"",required:!0},bg:{type:String,default:"",required:!1}}},u=a(89);const g=(0,u.Z)(c,[["render",l]]);var p=g},7133:function(t,e,a){"use strict";a.d(e,{Z:function(){return f}});var i=a(3396),s=a(7139);const r={class:"section"},n={class:"container"},o={class:"section_wrapper"},l={class:"section_header"},c={class:"header_hint hint"},u={class:"header_title section_title"},g={class:"section_body"};function p(t,e,a,p,h,d){return(0,i.wg)(),(0,i.iD)("section",r,[(0,i._)("div",n,[(0,i._)("div",o,[(0,i._)("div",l,[(0,i._)("div",c,(0,s.zw)(a.hint),1),(0,i._)("h2",u,(0,s.zw)(a.title),1)]),(0,i._)("div",g,[(0,i._)("p",null,(0,s.zw)(a.descr),1),(0,i.WI)(t.$slots,"default",{},void 0,!0)])])])])}var h={name:"SectionWrapper",props:{hint:{type:String,default:"",required:!0},title:{type:String,default:"",required:!0},descr:{type:String,default:""}}},d=a(89);const _=(0,d.Z)(h,[["render",p],["__scopeId","data-v-0810263c"]]);var f=_},1143:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return C}});var i=a(3396),s=a(7139);const r={class:"news"},n={class:"news_list"},o={class:"item_pic"},l=["src","alt"],c={class:"item_content"},u={class:"title"},g=["innerHTML"];function p(t,e,a,p,h,d){const _=(0,i.up)("intro"),f=(0,i.up)("pagination"),w=(0,i.up)("router-link"),m=(0,i.up)("section-wrapper");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(_,{title:"News",bg:"hero_news.jpg"}),(0,i.Wm)(m,{title:"The latest travel news",hint:"News"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{page:h.page,total:d.totalPages,onToPage:d.toPage},null,8,["page","total","onToPage"]),(0,i._)("div",n,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.newsList,((t,a)=>((0,i.wg)(),(0,i.iD)("div",{class:"news_item",key:a},[(0,i.Wm)(w,{to:{name:"oneNews",params:{title:t.title}}},{default:(0,i.w5)((()=>[(0,i._)("div",o,[(0,i._)("img",{src:t.urlToImage,alt:t.title,onError:e[0]||(e[0]=(...t)=>d.errorImg&&d.errorImg(...t))},null,40,l)]),(0,i._)("div",c,[(0,i._)("h2",u,(0,s.zw)(t.title),1),(0,i._)("time",null,(0,s.zw)(t.publishedAt),1),(0,i._)("p",{class:"descr",innerHTML:t.description},null,8,g)])])),_:2},1032,["to"])])))),128))])])),_:1})])}var h=a(6265),d=a.n(h),_=a(4763),f=a(7133),w=a(9242);const m={key:0,class:"pagination"},v=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1),D=["onClick"],k=(0,i._)("li",null,[(0,i._)("span",null,"...")],-1);function b(t,e,a,r,n,o){return 0!==a.total?((0,i.wg)(),(0,i.iD)("ul",m,[(0,i._)("li",{class:(0,s.C_)({disabled:o.isDisabledFirst})},[(0,i._)("a",{href:"#",onClick:e[0]||(e[0]=(0,w.iM)((t=>o.goToPage(a.page-1)),["prevent"]))},"<<")],2),o.showFirst?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i._)("li",null,[(0,i._)("a",{href:"#",onClick:e[1]||(e[1]=(0,w.iM)((t=>o.goToPage(1)),["prevent"]))},"1")]),v],64)):(0,i.kq)("",!0),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.pageRange,(t=>((0,i.wg)(),(0,i.iD)("li",{key:t,class:(0,s.C_)({active:t===a.page})},[(0,i._)("a",{href:"#",onClick:(0,w.iM)((e=>o.goToPage(t)),["prevent"])},(0,s.zw)(t),9,D)],2)))),128)),o.showLast?((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[k,(0,i._)("li",null,[(0,i._)("a",{href:"#",onClick:e[2]||(e[2]=(0,w.iM)((t=>o.goToPage(a.total)),["prevent"]))},(0,s.zw)(a.total),1)])],64)):(0,i.kq)("",!0),(0,i._)("li",{class:(0,s.C_)({disabled:o.isDisabledLast})},[(0,i._)("a",{href:"#",onClick:e[3]||(e[3]=(0,w.iM)((t=>o.goToPage(a.page+1)),["prevent"]))},">>")],2)])):(0,i.kq)("",!0)}var y={name:"Pagination",props:{page:{type:Number,default:1,required:!0},total:{type:Number,default:0,required:!0}},computed:{isDisabledFirst(){return 1===this.page},isDisabledLast(){return this.page===this.total},showFirst(){return this.page>4&&this.total>6},showLast(){return this.page<this.total-3&&this.total>6},pageRange(){let t=this.page-2,e=this.page+2;return this.page<5&&(t=1,e=5),this.page>this.total-4&&(t=this.total-4,e=this.total),t<1&&(t=1),e>this.total&&(e=this.total),Array(e-t+1).fill().map(((e,a)=>t+a))}},methods:{goToPage(t){this.$emit("toPage",t)}}},P=a(89);const j=(0,P.Z)(y,[["render",b]]);var z=j,T={name:"News",components:{Intro:_.Z,SectionWrapper:f.Z,Pagination:z},data(){return{API_key:"1c05599a56d5486e85cd22b247e1bac8",q:"tourism",newsList:[],page:1,pageSize:12}},computed:{totalPages(){const t=Math.floor(this.newsList.totalResults/this.pageSize),e=Math.floor(100/this.pageSize);return this.newsList.totalResults<100?t:e},toDateFormater(){const t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return e+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i)},fromDateFormater(){const t=new Date,e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate()-1;return e+"-"+(a<10?"0"+a:a)+"-"+(i<10?"0"+i:i)}},created(){this.fetchData()},methods:{fetchData(){let t=`https://newsapi.org/v2/everything?q=${this.q}&apiKey=${this.API_key}`;t+=`&from=${this.fromDateFormater}`,t+=`&to=${this.toDateFormater}`,t+="&language=en",t+=`&pageSize=${this.pageSize}`,t+=`&page=${this.page}`,d().get(t).then((t=>{this.newsList=t.data.articles}))},toPage(t){this.page=t,this.fetchData()},errorImg(t){t.target.src=a(7206)}}};const q=(0,P.Z)(T,[["render",p]]);var C=q},4699:function(t,e,a){var i={"./hero_about.jpg":9456,"./hero_contacts.jpg":9144,"./hero_news.jpg":2495,"./hero_tours.jpg":5365,"./hero_why-choose-us.jpg":2945};function s(t){var e=r(t);return a(e)}function r(t){if(!a.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}s.keys=function(){return Object.keys(i)},s.resolve=r,t.exports=s,s.id=4699},9456:function(t,e,a){"use strict";t.exports=a.p+"img/hero_about.7a255c70.jpg"},9144:function(t,e,a){"use strict";t.exports=a.p+"img/hero_contacts.3c9b9d0e.jpg"},2495:function(t,e,a){"use strict";t.exports=a.p+"img/hero_news.fc5e3af1.jpg"},5365:function(t,e,a){"use strict";t.exports=a.p+"img/hero_tours.940dcd0c.jpg"},2945:function(t,e,a){"use strict";t.exports=a.p+"img/hero_why-choose-us.f8ea922a.jpg"},7206:function(t,e,a){"use strict";t.exports=a.p+"img/no-image-available.aa6a1acc.png"}}]);
//# sourceMappingURL=423.8bf6ca74.js.map